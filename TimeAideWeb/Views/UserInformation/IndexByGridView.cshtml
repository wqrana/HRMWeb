@model IEnumerable<TimeAide.Models.ViewModel.UserInformationViewModel>
@{
    var pagingObject = ViewBag.GridPagingObject;
}
<style>
    .grid-profile-img-wrap img {
        border-radius: 50%;
        height: 80px;
        width: 80px;
    }
</style>


<div class="row staff-grid-row" id="divGridProfile">
    @foreach (var item in Model)
    {
        var empStatusBgClass = "bg-inverse-danger";
        if (item.EmployeeStatusId == 1)
        {
            empStatusBgClass = "bg-inverse-success";
        }

        else if (item.EmployeeStatusId == 2)
        {
            empStatusBgClass = "bg-inverse-warning";
        }
        <div class="col-md-4 col-sm-6 col-12 col-lg-4 col-xl-3">
            <div class="profile-widget">
                <div class="grid-profile-img-wrap">
                    <a href="/UserInformation/Details/@item.EncryptedId" class=""><img class="inline-block" src="@item.PictureFilePath" alt=""></a>
                </div>
                <div class="dropdown profile-action">
                    <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i></a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a class="dropdown-item" href="/UserInformation/Details/@item.EncryptedId"><i class="fa fa-eye m-r-5"></i> Detail</a>
                    </div>
                </div>
                <h4 class="user-name m-t-10 mb-0 text-ellipsis"><a href="/UserInformation/Details/@item.EncryptedId">@Html.DisplayFor(modelItem => item.EmployeeId)</a></h4>
                <h4 class="user-name m-t-10 mb-0 text-ellipsis"><a href="/UserInformation/Details/@item.EncryptedId">@Html.DisplayFor(modelItem => item.ShortFullName)</a></h4>
                @{ var positionName = item.PositionId == null ? "Not Available" : item.PositionName;}
                <div class="small text-muted">@positionName</div>
                <div><span class="badge @empStatusBgClass">@item.EmployeeStatusName</span></div>
            </div>
        </div>
    }
</div>
<div class="row">
    <div class="col-sm-12 col-md-5">
        <div class="pt-2" id="">Showing @pagingObject.StartRecord to @pagingObject.EndRecord of  @pagingObject.TotolRecords entries</div>
    </div>
    <div class="col-sm-12 col-md-7">
        <div class="" style="text-align:right;" id="">
            <ul class="pagination" style="justify-content: flex-end;margin: 2px 0;">
                @{
                    var disablePrev = pagingObject.CurrentPage == 1 ? " disabled" : " ";
                    var disableNext = pagingObject.CurrentPage == pagingObject.TotalPages || pagingObject.TotalPages == 0 ? " disabled" : " ";

                    <li class="paginate_button page-item previous @disablePrev" id="gridPage_prev"><a href="javascript:getUserGridPageData(-1)" tabindex="0" class="page-link">Previous</a></li>

                    for (int p = 1; p <= pagingObject.TotalPages; p++)
                    {
                        if (p == pagingObject.CurrentPage)
                        {
                            <li class="paginate_button page-item page-item-no active" id="gridPage_@p"><a href="javascript:getUserGridPageData(@p)" tabindex="0" class="page-link">@p</a></li>
                        }
                        else
                        {
                            <li class="paginate_button page-item page-item-no" id="gridPage_@p"><a href="javascript:getUserGridPageData(@p)" tabindex="0" class="page-link">@p</a></li>
                        }
                    }


                    <li class="paginate_button page-item next @disableNext" id="gridPage_next"><a href="javascript:getUserGridPageData(0)" tabindex="0" class="page-link">Next</a></li>
                }
            </ul>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {

        //// $('#page-item-no').removeClass('active');
        //var pageSize = $('#PageSize').val();
        //var gridSearchText = $("#GridSearchTxt").val();
        //$('#userGridPageLen').val(pageSize);
        //$('#userGridSearchTxt').val(gridSearchText);

        //$('#userGridPageLen').on("change", function () {
        //    debugger;
        //    var newPageSize = $(this).val();
        //    $('#PageSize').val(newPageSize);
        //    getUserGridPageData(1);
        //});
        //$('#userGridSearchTxt').on("keyup", function () {
        //    debugger;
        //    var searchtext = $(this).val();
        //    $("#GridSearchTxt").val(searchtext);
        //    getUserGridPageData(1);
        //});

        //$("#GridSearchTxt");

    });
</script>

