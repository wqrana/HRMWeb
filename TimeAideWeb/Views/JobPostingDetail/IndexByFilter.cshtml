@model IEnumerable<TimeAide.Web.Models.JobPostingDetail>
<div class="row">
    <div class="table-responsive">
        <table class="table table-striped custom-table table-nowrap mb-0" id="tblJobPosting">

            <thead>
                <tr>
                    <th>Action</th>
                    <th></th>
                    <th>Status</th>
                    <th>Position</th>
                    <th>Department</th>
                    <th>Employment Type </th>
                    <th>Post Date</th>
                    <th>Expiry Date</th>
                    <th>No Of Vacancies</th>
                    <th>Experience</th>
                    <th>Application Received</th>
                </tr>
            </thead>
            @foreach (var item in Model)
            {
               
                var jobStatusBgClass = item.JobPostingStatusId==1 ? "bg-inverse-success" : "bg-inverse-danger";
            <tr>
                <td class="text-left">

                    <div class="dropdown dropdown-action">
                        <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i></a>
                        <div class="dropdown-menu dropdown-menu-right" x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(38px, 32px, 0px);">
                            <a class="dropdown-item" href="javascript:createOrEditJobPosting(@item.Id);"><i class="fa fa-pencil m-r-5"></i> Edit</a>
                            <a class="dropdown-item" href="javascript:getJobPostingDetail(@item.Id);"><i class="fa fa-eye m-r-5"></i> Detail</a>
                            <a class="dropdown-item" href="javascript:getJobPostingDeleteData(@item.Id);"><i class="fa fa-trash-o m-r-5"></i> Delete</a>

                        </div>
                    </div>

                </td>

                <td>
                    @*<a href="javascript:getJobPostingDetail(@item.Id);">View Job </a>|*@
                    <a href="javascript:editJobDecription(@item.Id);">Edit Job Desc. </a>
                </td>
                <td>
                    <span class="badge @jobStatusBgClass">@Html.DisplayFor(m => @item.JobPostingStatus.Name)</span>
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.Position.PositionName)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.Department.DepartmentName)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.EmploymentType.EmploymentTypeName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JobPostingStartDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.JobPostingExpiringDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NoOfVacancies)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Experience)
                </td>
                <td>
                    @{
                        var applicantCount = 0;
                        if (item.ApplicantInformations != null)
                        {
                            applicantCount = item.ApplicantInformations.Count();
                        }
                    }
                    @Html.DisplayFor(modelItem => applicantCount)
                </td>
            </tr>
            }

        </table>
    </div>
</div>
<script>
    $(document).ready(function () {

        $('#tblJobPosting').dataTable({
                    "searching": true
        });
            });
</script>
