@model TimeAide.Web.Models.Department
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

<div class="form-horizontal" style="padding:10px">
    @Html.Partial("_CreatePageTitleView")
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.DepartmentName, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            @Html.EditorFor(model => model.DepartmentName, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.DepartmentName, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.DepartmentDescription, "Description", htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            @Html.EditorFor(model => model.DepartmentDescription, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.DepartmentDescription, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.USECFSEAssignment, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            @Html.EditorFor(model => model.USECFSEAssignment)
            @Html.ValidationMessageFor(model => model.USECFSEAssignment, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.CFSECodeId, "CFSE Code", htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            @(Html.CustomDropDownList<TimeAide.Web.Models.CFSECode>("CFSECodeId", null, htmlAttributes: new { @class = "form-control", @disabled = "disabled" }))
            @Html.ValidationMessageFor(model => model.CFSECodeId, "", new { @class = "text-danger" })

        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.CFSECompanyPercent, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            @Html.EditorFor(model => model.CFSECompanyPercent, new { htmlAttributes = new {  @class = "form-control", @disabled = "disabled" } })
            @Html.ValidationMessageFor(model => model.CFSECompanyPercent, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.JobCertificationSignee, "Job-Cert. Signee", htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            <select id="JobCertificationSigneeId" name="JobCertificationSigneeId" class="form-control">
                <option value="">"Please select"</option>
            </select>

        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
            @Html.LabelFor(model => model.JobCertificationTemplateId, "Job-Cert. Template", htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-8">
            <select id="JobCertificationTemplateId" name="JobCertificationTemplateId" class="form-control">
                <option value="">"Please select"</option>
            </select>

        </div>
    </div>
    @Html.Partial("_CreatePageFooterView")
</div>
}


    <script>
        $(document).ready(function () {
            var IsAllCmp = $('#chkAllCompanies').is(':checked');
            LoadJobCertificationSignee(IsAllCmp, '#JobCertificationSigneeId', null);
            LoadJobCertificationTemplate(IsAllCmp, '#JobCertificationTemplateId', null);
            $('#chkAllCompanies').change(function () {
                IsAllCmp = $(this).is(':checked');
                LoadJobCertificationSignee(IsAllCmp, '#JobCertificationSigneeId', null);
                LoadJobCertificationTemplate(IsAllCmp, '#JobCertificationTemplateId', null);
            });
            

        $('#USECFSEAssignment').click(function () {
            if ($(this).is(":checked")) {
                $("#CFSECodeId").removeAttr("disabled");
                $("#CFSECompanyPercent").removeAttr("disabled");
            }
            else {
                $("#CFSECodeId").attr("disabled", "disabled");
                $("#CFSECompanyPercent").attr("disabled", "disabled");
                $("#CFSECodeId").val("");
                $("#CFSECompanyPercent").val("");
                $('span[data-valmsg-for="CFSECodeId"]').text('');
                $('span[data-valmsg-for="CFSECompanyPercent"]').text('');
            }
        });
    });
    </script>