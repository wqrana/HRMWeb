@model IEnumerable<TimeAide.Web.Models.ApplicantInterview>
<h4 class="pull-left"> </h4>
<div class="table-responsive">
    <table class="table table-striped custom-table table-nowrap mb-0">
        <thead>
            <tr>

                <th>
                    Question
                </th>
                <th>
                    Answer
                </th>
                <th>
                    Answer Rating
                </th>
                <th>
                     Rating Value
                </th>

                <th>
                    Note
                </th>

                <th></th>

            </tr>
        </thead>
       
        @foreach (var item in Model)
        {
           
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.ApplicantInterviewQuestion.QuestionName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ApplicantAnswer)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ApplicantInterviewAnswer.AnswerName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.InterviewAnswerValue) / @Html.DisplayFor(modelItem => item.InterviewAnswerMaxValue)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.Note)
            </td>

            <td width="10%">

                <div class="pull-right dropdown-action">
                    <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_horiz</i></a>
                    <div class="dropdown-menu dropdown-menu-right" x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(25px, 20px, 0px);">
                        @if (!ViewBag.IsHired)
                        {
                            <a href="javascript:createEditApplicantInterviewQA(@item.Id);" class="dropdown-item" data-id="@item.Id"><i class="fa fa-pencil m-r-5"></i> Edit</a>
                            <a href="javascript:getApplicantInterviewQAData(@item.Id);" class="dropdown-item"><i class="fa fa-trash m-r-5"></i> Delete</a>
                        }
                    </div>
                </div>
            </td>
        </tr>
        }        
        <tfoot>
            @{ 
                var totalAnswerVal = Model.Sum(s => s.InterviewAnswerValue);
                var totalMaxVal = Model.Sum(s => s.InterviewAnswerMaxValue);
                var interviewRating = Math.Round(((totalAnswerVal??0) / (totalMaxVal??1)) * 100, 2);
            }
            <tr class="font-weight-bold">
                <td align="right" colspan="5">
                    Interview Score:&nbsp; @totalAnswerVal/@totalMaxVal&nbsp;&nbsp;&nbsp;Interview Rating:&nbsp;  @interviewRating%
                </td>
                @*<td>
                    @totalAnswerVal/@totalMaxVal
                </td>
                <td align="right">
                    Interview Rating:
                </td>
                <td colspan="2">
                    @interviewRating%
                </td>*@
            </tr>
        </tfoot>
    </table>
</div>