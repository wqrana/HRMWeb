@model TimeAide.Web.Models.CompanyMedia
@using TimeAide.Data;
@{
    ViewBag.Label = "Company Media";
}
<div id="companyMediaDelete_modal" class="modal custom-modal">
    <div class="modal-dialog modal-dialog-centered modal-md">
        <div class="modal-content">
            @Html.Partial("_DeleteViewHeader")


            @Html.HiddenFor(model => model.Id, new { id = "CompanyMediaDeleteId" })

            <div class="form-group row" style="margin-left:0px; margin-right:0px;">
                <div class="panel panel-default" style="width:100%;margin-left:0px">
                    <div class="panel-heading" style="padding-left:10px">Media Info.</div>
                    <div class="panel-body">
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label" style="margin-left:10px">
                                Title:
                            </label>
                            <div class="col-md-8 text-muted mt-2">
                                <span id=""> @Html.DisplayFor(model => model.Name)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label" style="margin-left:10px">
                                Media Type:
                            </label>
                            <div class="col-md-8 text-muted mt-2">
                                @{
                                  var mediaType=  DataHelper.MediaType[Model.MediaType];
                                }
                                <span id=""> @Html.DisplayFor(model => mediaType)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-3 col-form-label" style="margin-left:10px">
                                Media:
                            </label>
                            <div class="col-md-8">
                                @if (Model.MediaType == "F")
                                {
                                    <video controls autoplay muted loop>
                                        <source src="@Model.MediaFilePath" type="video/mp4">
                                        Your browser does not support the video tag.
                                    </video>
                                }                               
                                @if (Model.MediaType == "L")
                                {
                                    <iframe src="@Model.MediaFilePath" allow="autoplay" allowfullscreen></iframe>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="submit-section mt-1">

                <button id="btnDeleteCompanyMedia" class="btn btn-danger submit-btn">Delete</button>
                <button id="btnCancel" class="btn btn-danger submit-btn" data-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $("#btnDeleteCompanyMedia").click(function () {
            var id = $("#CompanyMediaDeleteId").val();
            deleteCompanyMedia(id);
        })

    });
</script>



