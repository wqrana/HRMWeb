@model TimeAide.Web.Models.EmploymentHistory
<div style="padding:10px;padding-bottom:0px;padding-top:0px;">
    @*@Html.Partial("_CreatePageTitleView")*@
    @*<div class="form-group row" style="margin:0px">
        <div class="col-md-12 row">
            <div class="col-md-6">
                <h3 class="card-title pull-left">
                    Employment Information
                </h3>
            </div>
            <div class="col-md-6">
                @if (TimeAide.Services.EmploymentService.GetActiveEmployment(@ViewBag.UserInformationId)==null)
                {
                    <div class="alert alert-danger alert-dismissible fade show danger " role="alert" style="padding: .75rem 1.25rem;">
                        <strong>Alert!</strong> Selected employee doesn't have active hiring, please add hiring first.
                    </div>
                }
            </div>
        </div>
    </div>*@
    <div>
        <div class="form-group row">
            <div class="col-md-6 p-0">
                @*<div class="panel panel-default" style="width:49%;margin-left:10px">*@
                <div class="panel panel-default" style="margin-left:5px">
                    <div class="panel-heading" style="padding-left:10px">
                        <div class="form-group row">
                            <div class="col-md-6">
                                General
                            </div>
                            @if (TimeAide.Services.EmploymentService.GetActiveEmployment(Model.UserInformationId ?? ViewBag.UserInformationId) != null && (Model.CanAddNew || Model.CanEdit) && (ViewBag.AllowAdd || ViewBag.AllowEdit))
                            {
                                <div class="col-md-6">
                                    <div class="pull-right dropdown-action">
                                        <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_horiz</i></a>
                                        <div class="dropdown-menu dropdown-menu-right" x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(25px, 20px, 0px);">
                                            @if (Model.CanAddNew)
                                            {
                                                <a a href="javascript:;" data-toggle="modal" id="anchorEmploymentHistory" onclick="fnAddEmploymentHistory(@ViewBag.UserInformationId);" class="dropdown-item" data-id="@ViewBag.UserInformationId"><i class="fa fa-plus m-r-5"></i>Add</a>
                                            }
                                            @if (Model.CanEdit)
                                            {

                                                <a a href="javascript:;" data-toggle="modal" onclick="fnEditEmploymentHistory(@Model.Id);" id="anchorEditEmployment" class="dropdown-item" data-id="@Model.Id"><i class="fa fa-pencil m-r-5"></i> Edit</a>
                                                <a a href="javascript:;" data-toggle="modal" onclick="fnDeleteEmploymentHistory(@Model.Id);" id="anchorDeleteEmployment" class="dropdown-item" data-id="@Model.Id"><i class="fa fa-trash m-r-5"></i> Delete</a>
                                            }
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="panel-body">
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Start Date:
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                @if (Model.Id != 0)
                                {
                                    <span id="lblStartDate"> @Html.DisplayFor(model => model.StartDate)</span>
                                }
                            </div>
                        </div>
                        <div class="form-group row" style="display:none;">
                            <label class="col-md-4" style="margin-left:10px">
                                Company:
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblCompanyName">@Html.DisplayFor(model => model.Company.CompanyName)</span>
                            </div>

                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Location:
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblLocationName"> @Html.DisplayFor(model => model.Location.LocationName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Department:
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblDepartmentName">@Html.DisplayFor(model => model.Department.DepartmentName)</span>
                            </div>

                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                SubDepartment:
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblSubDepartmentName">  @Html.DisplayFor(model => model.SubDepartment.SubDepartmentName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Position:
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblPositionName">  @Html.DisplayFor(model => model.Position.PositionName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Supervisor:
                            </label>
                            <div class="col-md-6 text-muted mt-2" style="width:100% !important">
                                <span id="lblSupervisorId">  @Html.DisplayFor(model => model.SelectedSupervisorByName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Employee Type
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblEmployeeType">  @Html.DisplayFor(model => model.EmployeeType.EmployeeTypeName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Employment Type
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblEmploymentType">  @Html.DisplayFor(model => model.EmploymentType.EmploymentTypeName)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 p-0">
                @*<div class="panel panel-default" style="width:49%;margin-left:10px">*@
                <div class="panel panel-default pb-5" style="margin-left:5px">
                    <div class="panel-heading" style="padding-left:10px">
                        <div class="form-group row">
                            <div class="col-md-6">
                                Closing Information
                            </div>
                            @* @if ((Model.CanAddNew || Model.CanEdit) && (Model.Employment != null && !Model.Employment.IsClosed) && (ViewBag.AllowAdd || ViewBag.AllowEdit))*@
                            @if ((Model.Employment != null) && (ViewBag.AllowAdd || ViewBag.AllowEdit))
                            {
                                <div class="col-md-6">
                                    <div class="pull-right dropdown-action">
                                        <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_horiz</i></a>
                                        <div class="dropdown-menu dropdown-menu-right" x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(25px, 20px, 0px);">
                                            @if (Model.CanEditClosing)
                                            {
                                                <a a href="javascript:;" data-toggle="modal" onclick="fnCloseEmploymentHistory(@Model.Id);" id="anchorCloseEmployment" class="dropdown-item" data-id="@Model.Id"><i class="fa fa-pencil m-r-5"></i> Close</a>
                                            }
                                        </div>
                                    </div>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="panel-body">

                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                End Date
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblTerminationReason">@Html.DisplayFor(model => model.EndDate)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Approved Date
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblTerminationEligibility"> @Html.DisplayFor(model => model.ApprovedDate)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Approved By
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblTerminationNotes"> @Html.DisplayFor(model => model.SelectedAuthorizByName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Change Reason
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id="lblTerminationNotes"> @Html.DisplayFor(model => model.ChangeReason)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-md-4" style="margin-left:10px">
                                Closed By
                            </label>
                            <div class="col-md-6 text-muted mt-2">
                                <span id=""> @Html.DisplayFor(model => model.ClosedByName)</span>
                            </div>
                        </div>
                        <div class="form-group row">
                        </div>
                        <div class="form-group row">
                        </div>
                        <div class="form-group row">
                        </div>
                        <div class="form-group row">
                        </div>
                        <div class="form-group row">
                        </div>
                        <div class="form-group row">
                        </div>
                        <div class="form-group row">
                        </div>
                    </div>
                </div>
                </div>
            </div>

        </div>
</div>
<div class="modal" id="employmentHistoryModal" role="dialog" aria-labelledby="employmentHistoryModalLabel">
    <div class="modal-dialog" role="document" style="width: 70%; max-width: 70% !important;">
        <div class="modal-content">
            <div id='employmentHistoryModalContent'></div>
        </div>
    </div>
</div>
<style>
    .material-icons, .action-icon {
        font-size: unset
    }
</style>
